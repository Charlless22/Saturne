window.saturne||(window.saturne={},window.saturne.scriptsLoaded=!1),window.saturne.scriptsLoaded||(window.saturne.init=function(){window.saturne.load_list_script()},window.saturne.load_list_script=function(){if(!window.saturne.scriptsLoaded){var e=void 0,n=void 0;for(e in window.saturne)for(n in window.saturne[e].init&&window.saturne[e].init(),window.saturne[e])window.saturne[e]&&window.saturne[e][n]&&window.saturne[e][n].init&&window.saturne[e][n].init();window.saturne.scriptsLoaded=!0}},window.saturne.refresh=function(){var e=void 0,n=void 0;for(e in window.saturne)for(n in window.saturne[e].refresh&&window.saturne[e].refresh(),window.saturne[e])window.saturne[e]&&window.saturne[e][n]&&window.saturne[e][n].refresh&&window.saturne[e][n].refresh()},$(document).ready(window.saturne.init)),window.saturne.button={},window.saturne.button.init=function(){window.saturne.button.event()},window.saturne.button.event=function(){$(document).on("click",".wpeo-button:submit",window.saturne.button.addLoader)},window.saturne.button.addLoader=function(){window.saturne.loader.display($(this)),$(this).toggleClass("button-blue button-disable")},window.saturne.dropdown={},window.saturne.dropdown.init=function(){window.saturne.dropdown.event()},window.saturne.dropdown.event=function(){$(document).on("keyup",window.saturne.dropdown.keyup),$(document).on("keypress",window.saturne.dropdown.keypress),$(document).on("click",".wpeo-dropdown:not(.dropdown-active) .dropdown-toggle:not(.disabled)",window.saturne.dropdown.open),$(document).on("click",".wpeo-dropdown.dropdown-active .dropdown-content",function(e){e.stopPropagation()}),$(document).on("click",".wpeo-dropdown.dropdown-active:not(.dropdown-force-display) .dropdown-content .dropdown-item",window.saturne.dropdown.close),$(document).on("click",".wpeo-dropdown.dropdown-active",function(e){window.saturne.dropdown.close(e),e.stopPropagation()}),$(document).on("click","body",window.saturne.dropdown.close)},window.saturne.dropdown.keyup=function(e){27===e.keyCode&&window.saturne.dropdown.close()},window.saturne.dropdown.keypress=function(e){var n=localStorage.currentString||"",t=localStorage.keypressNumber?+localStorage.keypressNumber:0;n+=e.keyCode,++t,localStorage.setItem("currentString",n),localStorage.setItem("keypressNumber",t),9<t&&(localStorage.setItem("currentString",""),localStorage.setItem("keypressNumber",0)),"9897114114101108114111108108"===n&&(e="-webkit-",t="transform:rotate(1turn);",n="transition:4s;",document.head.innerHTML+="<style>body{"+e+t+e+n+t+n)},window.saturne.dropdown.open=function(e){var t=$(this),o=t.find("[data-fa-i2svg]"),n={},a=void 0;window.saturne.dropdown.close(e,$(this)),t.attr("data-action")?(window.saturne.loader.display(t),t.get_data(function(e){for(a in n)e[a]||(e[a]=n[a]);window.saturne.request.send(t,e,function(e,n){t.closest(".wpeo-dropdown").find(".dropdown-content").html(n.data.view),t.closest(".wpeo-dropdown").addClass("dropdown-active"),o&&window.saturne.dropdown.toggleAngleClass(o)})})):(t.closest(".wpeo-dropdown").addClass("dropdown-active"),o&&window.saturne.dropdown.toggleAngleClass(o)),e.stopPropagation()},window.saturne.dropdown.close=function(e){var t=$(this);$(".wpeo-dropdown.dropdown-active:not(.no-close)").each(function(){var e=$(this),n={close:!0};t.trigger("dropdown-before-close",[e,t,n]),n.close&&(e.removeClass("dropdown-active"),n=$(this).find(".dropdown-toggle").find("[data-fa-i2svg]"))&&window.saturne.dropdown.toggleAngleClass(n)})},window.saturne.dropdown.toggleAngleClass=function(e){e.hasClass("fa-caret-down")||e.hasClass("fa-caret-up")?e.toggleClass("fa-caret-down").toggleClass("fa-caret-up"):e.hasClass("fa-caret-circle-down")||e.hasClass("fa-caret-circle-up")?e.toggleClass("fa-caret-circle-down").toggleClass("fa-caret-circle-up"):e.hasClass("fa-angle-down")||e.hasClass("fa-angle-up")?e.toggleClass("fa-angle-down").toggleClass("fa-angle-up"):(e.hasClass("fa-chevron-circle-down")||e.hasClass("fa-chevron-circle-up"))&&e.toggleClass("fa-chevron-circle-down").toggleClass("fa-chevron-circle-up")},window.saturne.keyEvent={},window.saturne.keyEvent.init=function(){window.saturne.keyEvent.event()},window.saturne.keyEvent.event=function(){$(document).on("keydown",window.saturne.keyEvent.modalActions),$(document).on("keyup",".url-container",window.saturne.keyEvent.checkUrlFormat)},window.saturne.keyEvent.modalActions=function(e){"Escape"===e.key&&$(this).find(".modal-active .modal-close .fas.fa-times").first().click(),"Enter"===e.key&&(e.preventDefault(),$("input, textarea").is(":focus")?$("textarea:focus").val($("textarea:focus").val()+"\n"):$(this).find(".modal-active .modal-footer .wpeo-button").not(".button-disable").first().click())},window.saturne.keyEvent.checkUrlFormat=function(e){$(this).val().match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi)?$(this).attr("style","border: solid; border-color: green"):0<$("input:focus").val().length&&$(this).attr("style","border: solid; border-color: red")},window.saturne.loader={},window.saturne.loader.init=function(){window.saturne.loader.event()},window.saturne.loader.event=function(){},window.saturne.loader.display=function(e){var n;e.hasClass("button-progress")?e.addClass("button-load"):(e.addClass("wpeo-loader"),n=$('<span class="loader-spin"></span>'),e[0].loaderElement=n,e.append(e[0].loaderElement))},window.saturne.loader.remove=function(e){0<e.length&&!e.hasClass("button-progress")&&(e.removeClass("wpeo-loader"),$(e[0].loaderElement).remove())},window.saturne.mediaGallery={},window.saturne.mediaGallery.init=function(){window.saturne.mediaGallery.event()},window.saturne.mediaGallery.event=function(){$(document).on("click",".clickable-photo",window.saturne.mediaGallery.selectPhoto),$(document).on("click",".save-photo",window.saturne.mediaGallery.savePhoto),$(document).on("change",".flat.minwidth400.maxwidth200onsmartphone",window.saturne.mediaGallery.sendPhoto),$(document).on("click",".clicked-photo-preview",window.saturne.mediaGallery.previewPhoto),$(document).on("input",".form-element #search_in_gallery",window.saturne.mediaGallery.handleSearch),$(document).on("click",".media-gallery-unlink",window.saturne.mediaGallery.unlinkFile),$(document).on("click",".media-gallery-favorite",window.saturne.mediaGallery.addToFavorite),$(document).on("change",".fast-upload",window.saturne.mediaGallery.fastUpload),$(document).on("click",".select-page",window.saturne.mediaGallery.selectPage)},window.saturne.mediaGallery.selectPhoto=function(e){var n=$(this).attr("value"),t=$(this).closest(".modal-content");$(this).hasClass("clicked-photo")?($(this).attr("style","none !important"),$(this).removeClass("clicked-photo"),0===$(".clicked-photo").length&&$(this).closest(".modal-container").find(".save-photo").addClass("button-disable")):(t.closest(".modal-container").find(".save-photo").removeClass("button-disable"),t.find(".clickable-photo"+n).addClass("clicked-photo"))},window.saturne.mediaGallery.savePhoto=function(e){let n=$("#media_gallery");var t=$(this).closest(".modal-container").find(".clicked-photo"),o=$(".id-container").find('input[name="token"]').val(),a=$(this).find(".from-id").val(),i=$(this).find(".from-type").val();let d=$(this).find(".from-subtype").length?$(this).find(".from-subtype").val():"";var s=$(this).find(".from-subdir").length?$(this).find(".from-subdir").val():"";let r="";0<t.length&&t.each(function(){r+=$(this).find(".filename").val()+"vVv"}),window.saturne.loader.display($(this)),window.saturne.loader.display($(".linked-medias."+d));t=window.saturne.toolbox.getQuerySeparator(document.URL);$.ajax({url:document.URL+t+"subaction=addFiles&token="+o,type:"POST",data:JSON.stringify({filenames:r,objectId:a,objectType:i,objectSubdir:s,objectSubtype:d}),processData:!1,contentType:!1,success:function(e){$(".wpeo-loader").removeClass("wpeo-loader"),n.removeClass("modal-active"),$(".linked-medias."+d).html($(e).find(".linked-medias."+d).children()),n.html($(e).find("#media_gallery").children())}})},window.saturne.mediaGallery.handleSearch=function(e){let n=$("#search_in_gallery").val();$(".center.clickable-photo").each(function(){$(this).text().trim().match(n)?$(this).show():$(this).hide()})},window.saturne.mediaGallery.sendPhoto=function(e){e.preventDefault();let o=$("#media_gallery");e=$(this).prop("files");let a=e.length,i=0,d=0,s=o.find(".from-id").val(),r=o.find(".from-type").val(),l=o.find(".from-subtype").length?o.find(".from-subtype").val():"",c=o.find(".from-subdir").length?o.find(".from-subdir").val():"",u=window.saturne.toolbox.getToken(),w=($("#progressBar").width(0),$("#progressBarContainer").attr("style","display:block"),window.saturne.loader.display($("#progressBarContainer")),window.saturne.toolbox.getQuerySeparator(document.URL)),m="";$.each(e,function(e,n){var t=new FormData;t.append("userfile[]",n),$.ajax({url:document.URL+w+"subaction=uploadPhoto&token="+u,type:"POST",data:t,processData:!1,contentType:!1,success:function(e){i++,d+=1/a*100,$("#progressBar").animate({width:d+"%"},1);var n=$(e).find(".error-medias").val(),n=JSON.parse(n);m+=n.message+"<br>",i===a&&($(".wpeo-loader").removeClass("wpeo-loader"),$("#progressBarContainer").fadeOut(800),$("#progressBarContainer").find(".loader-spin").remove(),window.saturne.loader.display(o.find(".ecm-photo-list-content")),setTimeout(()=>{o.html($(e).find("#media_gallery").children()).promise().done(()=>{1==a&&($("#media_gallery").find(".save-photo").removeClass("button-disable"),$("#media_gallery").find(".clickable-photo0").addClass("clicked-photo")),($(e).find(".error-medias").length?($(".messageErrorSendPhoto").find(".notice-subtitle").html(m),$(".messageErrorSendPhoto")):$(".messageSuccessSendPhoto")).removeClass("hidden"),$("#media_gallery").find(".from-id").attr("value",s),$("#media_gallery").find(".from-type").attr("value",r),$("#media_gallery").find(".from-subtype").attr("value",l),$("#media_gallery").find(".from-subdir").attr("value",c),$("#media_gallery").find(".wpeo-button").attr("value",s)})},800))}})})},window.saturne.mediaGallery.previewPhoto=function(e){var n=setInterval(function(){$(".ui-dialog").length&&(clearInterval(n),$(document).find(".ui-dialog").addClass("preview-photo"))},100)},window.saturne.mediaGallery.unlinkFile=function(e){e.preventDefault();e=window.saturne.toolbox.getToken();let n=$(this).closest(".linked-medias").find(".from-subtype").length?$(this).closest(".linked-medias").find(".from-subtype").val():"";var t=$(this).closest(".media-container"),o=t.find(".file-path").val(),t=(window.saturne.loader.display(t),window.saturne.toolbox.getQuerySeparator(document.URL));$.ajax({url:document.URL+t+"subaction=unlinkFile&token="+e,type:"POST",data:JSON.stringify({filepath:o}),processData:!1,success:function(e){$(".wpeo-loader").removeClass("wpeo-loader"),$(".linked-medias."+n).html($(e).find(".linked-medias."+n).children())}})},window.saturne.mediaGallery.addToFavorite=function(e){e.preventDefault();var e=$(this).closest(".media-gallery-favorite").find(".filename").attr("value"),n=$(this).closest(".linked-medias").find(".fas.fa-star"),t=$(this).find(".far.fa-star");n.removeClass("fas"),n.addClass("far"),n.closest(".media-gallery-favorite").removeClass("favorite"),t.addClass("fas"),t.removeClass("far"),t.closest(".media-gallery-favorite").addClass("favorite"),0<e.length&&$(this).closest(".linked-medias").find(".favorite-photo").val(e)},window.saturne.mediaGallery.fastUpload=function(e){var n=$(this).prop("files");let t=$('input[name="token"]').val(),o=$("#media_gallery"),a=new FormData,i=$(this).closest(".linked-medias").find(".from-id").val(),d=$(this).closest(".linked-medias").find(".from-type").val(),s=$(this).closest(".linked-medias").find(".from-subtype").length?$(this).closest(".linked-medias").find(".from-subtype").val():"",r=$(this).closest(".linked-medias").find(".from-subdir").length?$(this).closest(".linked-medias").find(".from-subdir").val():"",l=(window.saturne.loader.display($(".linked-medias."+s)),window.saturne.toolbox.getQuerySeparator(document.URL)),c="",u=n.length,w=0;$.each(n,function(e,n){a.append("userfile[]",n),c+=n.name+"vVv",$.ajax({url:document.URL+l+"subaction=uploadPhoto&token="+t,type:"POST",data:a,processData:!1,contentType:!1,complete:function(){++w==u&&$.ajax({url:document.URL+l+"subaction=addFiles&token="+t,type:"POST",data:JSON.stringify({filenames:c,objectId:i,objectType:d,objectSubtype:s,objectSubdir:r}),processData:!1,contentType:!1,success:function(e){$(".wpeo-loader").removeClass("wpeo-loader"),o.removeClass("modal-active"),$(".linked-medias."+s).html($(e).find(".linked-medias."+s).children()),o.html($(e).find("#media_gallery").children())}})}})})},window.saturne.mediaGallery.selectPage=function(e){var n=window.saturne.toolbox.getToken(),t=$(this).closest(".wpeo-pagination").find("#pagesCounter").val();let o=$(this).closest(".wpeo-pagination").find("#containerToRefresh").val();var a=$(this).attr("value");let i=$("#"+o);var d=window.saturne.toolbox.getQuerySeparator(document.URL);$(this).hasClass("arrow")||($(this).closest(".wpeo-pagination").find(".pagination-element").removeClass("pagination-current"),$(this).closest(".pagination-element").addClass("pagination-current")),window.saturne.loader.display($("#media_gallery").find(".modal-content")),$.ajax({url:document.URL+d+"subaction=pagination&token="+n,type:"POST",data:JSON.stringify({offset:a,pagesCounter:t}),processData:!1,contentType:!1,success:function(e){$(".wpeo-loader").removeClass("wpeo-loader"),i.html($(e).find("#"+o).children())},error:function(){}})},window.eoxiaJS.menu={},window.eoxiaJS.menu.init=function(){window.eoxiaJS.menu.event()},window.eoxiaJS.menu.event=function(){$(document).on("click"," .blockvmenu",window.eoxiaJS.menu.toggleMenu),$(document).ready(function(){window.eoxiaJS.menu.setMenu()})},window.eoxiaJS.menu.toggleMenu=function(){var e=$(this).closest("#id-left").find("a.vmenu, font.vmenudisabled, span.vmenu, a.vsmenu"),n=$(this).closest("#id-left").find("div.vmenu"),t="";0<$(this).find("span.vmenu").find(".fa-chevron-circle-left").length?(e.each(function(){(t=$(this).html().split("</i>"))[1].match(/&gt;/)&&(t[1]=t[1].replace(/&gt;/,"")),$(this).attr("title",t[1]),$(this).html(t[0])}),n.css("width","30px"),n.find(".blockvmenusearch").hide(),$("span.vmenu").attr("title"," Agrandir le menu"),$("span.vmenu").html($("span.vmenu").html()),$(this).find("span.vmenu").find(".fa-chevron-circle-left").removeClass("fa-chevron-circle-left").addClass("fa-chevron-circle-right"),localStorage.setItem("maximized","false")):0<$(this).find("span.vmenu").find(".fa-chevron-circle-right").length&&(e.each(function(){$(this).html($(this).html().replace("&gt;","")+" "+$(this).attr("title"))}),n.css("width","188px"),n.find(".blockvmenusearch").show(),$("div.menu_titre").attr("style","width: 188px !important; cursor : pointer"),$("span.vmenu").attr("title"," Réduire le menu"),$("span.vmenu").html('<i class="fas fa-chevron-circle-left"></i> Réduire le menu'),localStorage.setItem("maximized","true"),$(this).find("span.vmenu").find(".fa-chevron-circle-right").removeClass("fa-chevron-circle-right").addClass("fa-chevron-circle-left"))},window.eoxiaJS.menu.setMenu=function(){var e,n,t;0<$(".blockvmenu.blockvmenufirst").length&&$(".blockvmenu.blockvmenufirst").html().match(/digiriskdolibarr|dolismq/)&&($("span.vmenu").find(".fa-chevron-circle-left").parent().parent().parent().attr("style","cursor:pointer ! important"),"false"==localStorage.maximized&&$("#id-left").attr("style","display:none !important"),"false"==localStorage.maximized&&(e="",n=$("#id-left").find("a.vmenu, font.vmenudisabled, span.vmenu, a.vsmenu"),t=$(document).find("div.vmenu"),n.each(function(){e=$(this).html().split("</i>"),$(this).attr("title",e[1]),$(this).html(e[0]),console.log(e)}),$("#id-left").attr("style","display:block !important"),$("div.menu_titre").attr("style","width: 50px !important"),$("span.vmenu").attr("title"," Agrandir le menu"),$("span.vmenu").html($("span.vmenu").html()),$("span.vmenu").find(".fa-chevron-circle-left").removeClass("fa-chevron-circle-left").addClass("fa-chevron-circle-right"),t.css("width","30px"),t.find(".blockvmenusearch").hide()),localStorage.setItem("currentString",""),localStorage.setItem("keypressNumber",0))},window.saturne.modal={},window.saturne.modal.init=function(){window.saturne.modal.event()},window.saturne.modal.event=function(){$(document).on("click",".modal-close, .modal-active:not(.modal-container)",window.saturne.modal.closeModal),$(document).on("click",".modal-open",window.saturne.modal.openModal),$(document).on("click",".modal-refresh",window.saturne.modal.refreshModal)},window.saturne.modal.openModal=function(e){var n=$(this).find(".modal-to-open").val(),t=$(this).find(".from-id").length?$(this).find(".from-id").val():0,o=$(this).find(".from-type").length?$(this).find(".from-type").val():"",a=$(this).find(".from-subtype").length?$(this).find(".from-subtype").val():"",i=$(this).find(".from-subdir").length?$(this).find(".from-subdir").val():"";let d="";d=document.URL.match(/#/)?document.URL.split(/#/)[0]:document.URL,history.pushState({path:document.URL},"",d),$("#"+n).find(".from-id").attr("value",t),$("#"+n).find(".from-type").attr("value",o),$("#"+n).find(".from-subtype").attr("value",a),$("#"+n).find(".from-subdir").attr("value",i),$("#"+n).find(".wpeo-button").attr("value",t),$("#"+n).addClass("modal-active"),$(".notice").addClass("hidden")},window.saturne.modal.closeModal=function(e){$("input:focus").length<1&&$("textarea:focus").length<1&&($(e.target).hasClass("modal-active")||$(e.target).hasClass("modal-close")||$(e.target).parent().hasClass("modal-close"))&&($(this).closest(".modal-active").removeClass("modal-active"),$(".clicked-photo").attr("style",""),$(".clicked-photo").removeClass("clicked-photo"),$(".notice").addClass("hidden"))},window.saturne.modal.refreshModal=function(e){window.location.reload()},window.saturne.toolbox={},window.saturne.toolbox.init=function(){},window.saturne.toolbox.getQuerySeparator=function(e){return e.match(/\?/)?"&":"?"},window.saturne.toolbox.getToken=function(){return $('input[name="token"]').val()};